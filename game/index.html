<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Forbidden Yoga</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    :root{--title:"Press Start 2P",system-ui,sans-serif}
    html,body{margin:0;background:#000;color:#cfe6ff}
    header{position:fixed;top:8px;left:0;right:0;text-align:center;font:700 28px/1 var(--title);z-index:2}
    #stage{height:100svh;display:grid;place-items:center}
    canvas{width:100vw;height:100svh;display:block;background:#000}
    .hud{position:fixed;left:10px;bottom:10px;font:12px/1 var(--title);opacity:.9;z-index:2}
    .custom-footer{position:fixed;bottom:30px;width:100%;padding:10px;text-align:center;background:#000}
    .footer-content{display:flex;flex-direction:column;align-items:center}
    .gray-text{color:gray;font-size:.8em}
    .gray-text a{color:gray;text-decoration:none}
    .gray-text a:hover{color:#777}
    .whatsapp-link{font-size:.8em}
    @media (max-width:600px){header{font-size:22px}.custom-footer{bottom:10px}.gray-text,.whatsapp-link{font-size:.6em}}
  </style>
</head>
<body>
  <header>FORBIDDEN YOGA</header>
  <div id="stage"><canvas id="cv"></canvas></div>
  <div class="hud" id="hud">SCORE 0000   LEVEL 1</div>
  <footer class="custom-footer">
    <div class="footer-content">
      <div class="contact-us"><a href="https://wa.me/6285190247022" class="whatsapp-link">Contact us on WhatsApp</a></div>
      <div class="gray-text" style="margin-top:8px">
        <a href="../privacy-agreement.html">Privacy Agreement</a> | <a href="../terms-and-conditions.html">Terms and Conditions</a>
      </div>
    </div>
  </footer>

<script>
const cv=document.getElementById('cv'), ctx=cv.getContext('2d',{alpha:false})
function fit(){const dpr=Math.max(1,devicePixelRatio||1);cv.width=innerWidth*dpr;cv.height=innerHeight*dpr;cv.style.width=innerWidth+'px';cv.style.height=innerHeight+'px';ctx.setTransform(dpr,0,0,dpr,0,0)}
addEventListener('resize',fit); fit()

// high res SVG sprites as data URIs
const svgMale = encodeURIComponent(`
<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512">
  <defs>
    <linearGradient id="robeTop" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#ffffff"/>
      <stop offset="1" stop-color="#ededed"/>
    </linearGradient>
    <linearGradient id="robeLow" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#ffffff"/>
      <stop offset="1" stop-color="#e6e6e6"/>
    </linearGradient>
    <linearGradient id="skin" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#f6cf9f"/>
      <stop offset="1" stop-color="#efbb86"/>
    </linearGradient>
    <filter id="soft" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="1.2" result="blur"/>
      <feOffset dy="0.6" result="off"/>
      <feMerge><feMergeNode in="off"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- cushion -->
  <rect x="96" y="360" rx="24" ry="24" width="320" height="40" fill="#e0e0e0"/>

  <!-- crossed legs -->
  <path d="M120,340 C220,280 292,276 392,340 C292,392 220,392 120,340 Z" fill="url(#robeLow)"/>

  <!-- torso robe -->
  <path d="M168,320 L208,240 L304,240 L344,320 Q256,352 168,320 Z" fill="url(#robeTop)"/>

  <!-- folded arms -->
  <rect x="152" y="292" width="44" height="18" rx="9" fill="#f1f1f1"/>
  <rect x="316" y="292" width="44" height="18" rx="9" fill="#f1f1f1"/>

  <!-- neck -->
  <rect x="246" y="228" width="20" height="14" rx="6" fill="url(#skin)"/>

  <!-- head -->
  <rect x="212" y="176" width="88" height="56" rx="24" fill="url(#skin)" filter="url(#soft)"/>
  <rect x="196" y="156" width="120" height="22" rx="10" fill="#ffffff"/>
  <rect x="208" y="140" width="96" height="18" rx="8" fill="#f7f7f7"/>

  <!-- eyes and beard line -->
  <rect x="236" y="204" width="12" height="6" rx="2" fill="#222"/>
  <rect x="264" y="204" width="12" height="6" rx="2" fill="#222"/>
  <rect x="232" y="218" width="56" height="5" rx="2" fill="#bfa98e"/>
</svg>`)

const svgFemale = encodeURIComponent(`
<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512">
  <defs>
    <linearGradient id="robeTopF" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#ffffff"/>
      <stop offset="1" stop-color="#ededed"/>
    </linearGradient>
    <linearGradient id="robeLowF" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#ffffff"/>
      <stop offset="1" stop-color="#e6e6e6"/>
    </linearGradient>
    <linearGradient id="skinF" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0" stop-color="#f6cf9f"/>
      <stop offset="1" stop-color="#efbb86"/>
    </linearGradient>
    <filter id="softF" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="1.2" result="blur"/>
      <feOffset dy="0.6" result="off"/>
      <feMerge><feMergeNode in="off"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- cushion -->
  <rect x="96" y="360" rx="24" ry="24" width="320" height="40" fill="#e0e0e0"/>

  <!-- crossed legs -->
  <path d="M120,340 C220,280 292,276 392,340 C292,392 220,392 120,340 Z" fill="url(#robeLowF)"/>

  <!-- torso robe -->
  <path d="M168,320 L208,240 L304,240 L344,320 Q256,352 168,320 Z" fill="url(#robeTopF)"/>

  <!-- folded arms -->
  <rect x="152" y="292" width="44" height="18" rx="9" fill="#f1f1f1"/>
  <rect x="316" y="292" width="44" height="18" rx="9" fill="#f1f1f1"/>

  <!-- neck -->
  <rect x="246" y="228" width="20" height="14" rx="6" fill="url(#skinF)"/>

  <!-- head -->
  <rect x="212" y="176" width="88" height="56" rx="24" fill="url(#skinF)" filter="url(#softF)"/>
  <rect x="196" y="156" width="120" height="22" rx="10" fill="#ffffff"/>
  <rect x="208" y="140" width="96" height="18" rx="8" fill="#f7f7f7"/>

  <!-- eyes and lips -->
  <rect x="236" y="204" width="12" height="6" rx="2" fill="#222"/>
  <rect x="264" y="204" width="12" height="6" rx="2" fill="#222"/>
  <rect x="236" y="220" width="40" height="4" rx="2" fill="#efbb86"/>
</svg>`)

const imgM=new Image(), imgF=new Image()
imgM.src='data:image/svg+xml;charset=utf-8,'+svgMale
imgF.src='data:image/svg+xml;charset=utf-8,'+svgFemale

const DESKTOP = innerWidth >= 900
const SCALE = DESKTOP ? 0.33 : 0.42   // render big sprites but scaled down
const SPR = 512                       // source sprite size

// stars
const R=()=>Math.random()
const stars=[...Array(300)].map(()=>({x:R(),y:R(),s:R()*1.2+.4,c:R()<.08?'#9cf':'#556b8b'}))
function drawStars(dt){
  ctx.fillStyle='#000'; ctx.fillRect(0,0,innerWidth,innerHeight)
  for(const t of stars){ ctx.fillStyle=t.c; ctx.fillRect(t.x*innerWidth,t.y*innerHeight,t.s,t.s); t.y=(t.y+dt*.02)%1 }
}

// game state
const yogis=[...Array(5)].map(()=>({x:140+R()*(innerWidth-280),y:-140-R()*280,v:160+R()*100,sex:R()<.5?'m':'f'}))
const bullets=[]
const ship={x:innerWidth/2,y:innerHeight-90}
let left=false,right=false,shoot=false,score=0,level=1

addEventListener('keydown',e=>{const k=e.key.toLowerCase(); if(k==='arrowleft'||k==='a')left=true; if(k==='arrowright'||k==='d')right=true; if(k===' ')shoot=true})
addEventListener('keyup',e=>{const k=e.key.toLowerCase(); if(k==='arrowleft'||k==='a')left=false; if(k==='arrowright'||k==='d')right=false; if(k===' ')shoot=false})

let last=performance.now(), dt=0
function loop(t){ dt=(t-last)/1000; last=t; update(dt); render(dt); requestAnimationFrame(loop) }

function update(dt){
  const s=520
  ship.x=Math.max(30,Math.min(innerWidth-30, ship.x + ((right?1:0)-(left?1:0))*s*dt))
  if(shoot && (!bullets.length || performance.now()-bullets.at(-1).t>110)){
    bullets.push({x:ship.x,y:ship.y-16,v:940,t:performance.now()})
  }
  for(const b of bullets) b.y-=b.v*dt
  while(bullets.length && bullets[0].y<-30) bullets.shift()

  for(const y of yogis){
    y.y+=y.v*dt
    if(y.y>innerHeight+100){ y.x=140+R()*(innerWidth-280); y.y=-140-R()*280; y.v=160+R()*100 }
  }
  for(const b of bullets){
    for(const y of yogis){
      const w=SPR*SCALE*0.5, h=SPR*SCALE*0.6
      if(b.x>y.x-w/2 && b.x<y.x+w/2 && b.y>y.y-h/2 && b.y<y.y+h/2){
        score+=10; y.x=140+R()*(innerWidth-280); y.y=-140-R()*280; y.v=160+R()*100; b.y=-9999
      }
    }
  }
  document.getElementById('hud').textContent=`SCORE ${String(score).padStart(4,'0')}   LEVEL ${level}`
}

function render(dt){
  drawStars(dt)
  for(const y of yogis){
    const img = y.sex==='m' ? imgM : imgF
    const w = SPR*SCALE, h = SPR*SCALE
    ctx.drawImage(img, y.x-w/2, y.y-h/2, w, h)
  }
  ctx.fillStyle='#ffe08a'; for(const b of bullets) ctx.fillRect(b.x-1,b.y-14,2,22)
  ctx.fillStyle='#3fd092'; ctx.fillRect(ship.x-6,ship.y-20,12,20)
  ctx.fillStyle='#2aa579'; ctx.fillRect(ship.x-14,ship.y-10,28,10)
  ctx.fillStyle='#1b6e53'; ctx.fillRect(ship.x-22,ship.y-5,44,5)
}

requestAnimationFrame(loop)
</script>
</body>
</html>
