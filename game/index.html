<!doctype html>
<html lang="en">
<head>
  <!-- Google tag -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-JMNFZP9VS7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config','G-JMNFZP9VS7');
  </script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Forbidden Yoga</title>

  <!-- Same font as homepage -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    :root{ --title-font:"Press Start 2P", system-ui, sans-serif }
    html,body{margin:0;background:#000;color:#cfe6ff}
    header{position:fixed;top:8px;left:0;right:0;text-align:center;font:700 28px/1 var(--title-font);letter-spacing:.5px;z-index:2}
    #stage{height:100svh;display:grid;place-items:center}
    canvas{width:100vw;height:100svh;display:block;background:#000}
    .hud{position:fixed;left:10px;bottom:10px;font:12px/1 var(--title-font);opacity:.9;z-index:2}

    /* footer copied from main but without visible number */
    .custom-footer{position:fixed;bottom:30px;width:100%;padding:10px;text-align:center;background:#000}
    .footer-content{display:flex;flex-direction:column;align-items:center}
    .gray-text{color:gray;font-size:.8em}
    .gray-text a{color:gray;text-decoration:none}
    .gray-text a:hover{color:#777}
    .whatsapp-link{font-size:.8em}
    @media (max-width:600px){
      .custom-footer{bottom:10px}
      .gray-text,.whatsapp-link{font-size:.6em}
      header{font-size:22px}
    }
  </style>
</head>
<body>
  <header>FORBIDDEN YOGA</header>
  <div id="stage"><canvas id="cv"></canvas></div>
  <div class="hud" id="hud">SCORE 0000   LEVEL 1</div>

  <footer class="custom-footer">
    <div class="footer-content">
      <div class="contact-us">
        <a href="https://wa.me/6285190247022" class="whatsapp-link">Contact us on WhatsApp</a>
      </div>
      <div class="gray-text" style="margin-top:8px">
        <a href="../privacy-agreement.html">Privacy Agreement</a> |
        <a href="../terms-and-conditions.html">Terms and Conditions</a>
      </div>
    </div>
  </footer>

<script>
const cv=document.getElementById('cv'), ctx=cv.getContext('2d')
function fit(){ const dpr=Math.max(1,devicePixelRatio||1)
  cv.width=Math.floor(innerWidth*dpr); cv.height=Math.floor(innerHeight*dpr)
  cv.style.width=innerWidth+'px'; cv.style.height=innerHeight+'px'
  ctx.setTransform(dpr,0,0,dpr,0,0)
}
addEventListener('resize',fit); fit()

// stars
const R=()=>Math.random(), stars=[...Array(260)].map(()=>({x:R(),y:R(),s:R()*1.5+.3,c:R()<.08?'#9cf':'#556b8b'}))
function drawStars(dt){
  ctx.fillStyle='#000'; ctx.fillRect(0,0,innerWidth,innerHeight)
  for(const t of stars){
    ctx.fillStyle=t.c; ctx.fillRect(t.x*innerWidth,t.y*innerHeight,t.s,t.s)
    t.y=(t.y+dt*.02)%1
  }
}

// clean vector yogi
function drawYogi(x,y,scale,sex){
  ctx.save(); ctx.translate(x,y); ctx.scale(scale,scale)

  // cushion
  ctx.fillStyle='#e6e6e6'; ctx.beginPath()
  ctx.roundRect(-60,38,120,18,9); ctx.fill()

  // robe
  const g=ctx.createLinearGradient(0,-10,0,46)
  g.addColorStop(0,'#fff'); g.addColorStop(1,'#e9e9e9'); ctx.fillStyle=g
  ctx.beginPath(); ctx.moveTo(-48,32); ctx.lineTo(-22,-6); ctx.lineTo(22,-6); ctx.lineTo(48,32)
  ctx.quadraticCurveTo(0,52,-48,32); ctx.fill()

  // arms
  ctx.fillStyle='#f3f3f3'
  ctx.beginPath(); ctx.roundRect(-44,6,22,10,5); ctx.fill()
  ctx.beginPath(); ctx.roundRect(22,6,22,10,5); ctx.fill()

  // neck and head
  ctx.fillStyle='#f3c28f'; ctx.fillRect(-6,-16,12,6)
  ctx.fillStyle='#f5c79a'; ctx.beginPath(); ctx.roundRect(-20,-42,40,26,12); ctx.fill()

  // turban
  ctx.fillStyle='#ffffff'
  ctx.beginPath(); ctx.roundRect(-26,-50,52,8,4); ctx.fill()
  ctx.beginPath(); ctx.roundRect(-20,-56,40,6,3); ctx.fill()

  // face
  ctx.fillStyle='#2a2a2a'; ctx.fillRect(-10,-32,6,3); ctx.fillRect(4,-32,6,3)
  if(sex==='m'){ ctx.fillStyle='#c7b299'; ctx.fillRect(-12,-25,24,3) }
  else { ctx.fillStyle='#f3c28f'; ctx.fillRect(-10,-26,20,2) }

  ctx.restore()
}

// state
let last=performance.now(), dt=0
const yogis=[...Array(5)].map(()=>({ x:80+R()*(innerWidth-160), y:-80-R()*200, v:110+R()*70, sex:R()<.5?'m':'f' }))
const ship={x:innerWidth/2,y:innerHeight-90}
const bullets=[]
let left=false,right=false,shoot=false,score=0,level=1

addEventListener('keydown',e=>{
  const k=e.key.toLowerCase()
  if(k==='arrowleft'||k==='a') left=true
  if(k==='arrowright'||k==='d') right=true
  if(k===' ') shoot=true
})
addEventListener('keyup',e=>{
  const k=e.key.toLowerCase()
  if(k==='arrowleft'||k==='a') left=false
  if(k==='arrowright'||k==='d') right=false
  if(k===' ') shoot=false
})

function loop(t){
  dt=(t-last)/1000; last=t
  update(dt); render(dt); requestAnimationFrame(loop)
}
function update(dt){
  const s=460
  ship.x=Math.max(30,Math.min(innerWidth-30, ship.x + ((right?1:0)-(left?1:0))*s*dt))
  if(shoot && (!bullets.length || performance.now()-bullets.at(-1).t>120)){
    bullets.push({x:ship.x,y:ship.y-12,v:880,t:performance.now()})
  }
  for(const b of bullets) b.y-=b.v*dt
  while(bullets.length && bullets[0].y<-20) bullets.shift()

  for(const y of yogis){
    y.y+=y.v*dt
    if(y.y>innerHeight+60){ y.x=80+R()*(innerWidth-160); y.y=-80-R()*200; y.v=110+R()*70 }
  }
  for(const b of bullets){
    for(const y of yogis){
      const w=56,h=72
      if(b.x>y.x-w/2 && b.x<y.x+w/2 && b.y>y.y-h/2 && b.y<y.y+h/2){
        score+=10; y.x=80+R()*(innerWidth-160); y.y=-80-R()*200; y.v=110+R()*70; b.y=-9999
      }
    }
  }
  document.getElementById('hud').textContent=`SCORE ${String(score).padStart(4,'0')}   LEVEL ${level}`
}
function render(dt){
  drawStars(dt)
  for(const y of yogis) drawYogi(y.x,y.y,1.0,y.sex)
  ctx.fillStyle='#ffe08a'; for(const b of bullets) ctx.fillRect(b.x-1,b.y-10,2,18)
  ctx.fillStyle='#3fd092'; ctx.fillRect(ship.x-5,ship.y-18,10,18)
  ctx.fillStyle='#2aa579'; ctx.fillRect(ship.x-12,ship.y-9,24,9)
  ctx.fillStyle='#1b6e53'; ctx.fillRect(ship.x-18,ship.y-4,36,4)
}
requestAnimationFrame(loop)
</script>
</body>
</html>
